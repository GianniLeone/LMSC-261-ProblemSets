<!DOCTYPE html>

<html>

<head>
    <link rel="stylesheet" href="styles.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>
    <meta charset="utf-8">
    <title>Oscilator</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" type="image/png" sizes="174x174" href="./favicon.png">

    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/webcomponents-bundle.js"></script>
    <script src="https://unpkg.com/tone@13.8.25/build/Tone.js"></script>
    <script src="tonejs-ui.js"></script>
    <style type="text/css">
        tone-play-toggle {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Giannis Website</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="index.html">Home </a>
                <a class="nav-item nav-link" href="page1.html">Effects</a>
                <a class="nav-item nav-link active" href="page2.html">Granular</a>
                <a class="nav-item nav-link" href="page3.html">Synth</a>
            </div>
        </div>
    </nav>

    <body>

        <style type="text/css">
            tone-play-toggle,
            tone-fft {
                margin-bottom: 10px;
            }
            
            tone-fft {
                background-color: black;
                height: 40px;
                width: 100%;
                border-radius: 20px;
            }
        </style>


        <tone-explanation label="Granular Synthesis">
            <a href="https://tonejs.github.io/docs/GrainPlayer">Tone.GrainPlayer</a> uses
            <a href="https://en.wikipedia.org/wiki/Granular_synthesis">granular synthesis</a> to enable you to adjust pitch and playback rate independently. The grainSize is the amount of time each small chunk of audio is played for and the overlap is
            the amount of crossfading transition time between successive grains.
        </tone-explanation>


        <tone-content>
            <tone-fft></tone-fft>
            <tone-play-toggle></tone-play-toggle>
            <tone-grain-player></tone-grain-player>
        </tone-content>


        <script type="text/javascript">
            //the player
            var audioFile = prompt("Please enter audio file URL: ", "https://files.htp.sh/Sv6e1U1.m4a")
            var player = new Tone.GrainPlayer({
                "url": audioFile,
                "loop": true,
                "grainSize": 0.1,
                "overlap": 0.05,
            }).toMaster();

            //bind the interface
            document.querySelector("tone-fft").bind(player);
            document.querySelector("tone-play-toggle").bind(player);
            document.querySelector("tone-grain-player").bind(player);
        </script>


    </body>

</body>

</html>